<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <title>로그인</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@500;600&family=Roboto&display=swap" rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="/userAssets/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="/userAssets/lib/lightbox/css/lightbox.min.css" rel="stylesheet">


    <!-- Customized Bootstrap Stylesheet -->
    <link href="/userAssets/css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="/userAssets/css/style.css" rel="stylesheet">
    <link href="/userAssets/css/home.css" rel="stylesheet">

    <!-- custom css -->
    <link href="/userAssets/css/account-login.css" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
</head>

<body>

<!-- Spinner Start -->
<div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
    <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
        <span class="sr-only">Loading...</span>
    </div>
</div>
<!-- Spinner End -->

<!-- Topbar Start -->
<!--<div th:replace="~{userView/modules/topbar}"></div>-->
<!-- Topbar End -->

<!-- Navbar & Hero Start -->
<div class="container-fluid position-relative p-0">
    <div id="nav-container-box"></div>
<!--    <div th:replace="~{userView/modules/navbar}"></div>-->
</div>

<div class="container-fluid about py-5">
    <div class="container py-5 child-container" style="margin-top: 10rem;">
        <div class="login-box col-4">
<!--            <div class="login-logo">-->
<!--            </div>-->
            <!-- /.login-logo -->
            <div class="card">
                <div class="card-body login-card-body">
                    <div class="logo-box"> <h1 class="m-0"><i class="fa-solid fa-children"></i> Together</h1> </div>


                    <form action="/userView/account/process-login" method="post" id="login-form">
                        <div class="input-group mb-3">
                            <div class="col-md-12 login-input">
                                <div class="form-floating">
                                    <input type="text" class="form-control bg-white" id="userPhone" name="userPhone" placeholder="아이디" minlength="11" maxlength="11"
                                           onKeyup="this.value=this.value.replace(/[^0-9]/g,'');" th:value="${ saveId }">
                                    <label for="userPhone">연락처</label>
                                </div>
                            </div>

                            <div class="col-md-12 login-input">
                                <div class="form-floating">
                                    <input type="password" class="form-control bg-white" id="userPw" name="userPw" placeholder="비밀번호">
                                    <label for="userPw">비밀번호</label>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-8 mb-2">
                                <div class="form-check">
                                    <div style="display:flex;">
                                        <input class="form-check-input" type="checkbox" id="id-save-checkbox" name="saveId"
                                               style="margin-right:5px;" value="" th:checked="${saveId != ''}">
                                        <label class="form-check-label" for="id-save-checkbox">연락처 저장</label>
                                    </div>
                                </div>
                            </div>
                            <!-- -->
                            <div class="col-8 mt-2">
                                <div class="form-check">
                                    <div style="display:flex;">
                                        <input class="form-check-input" type="checkbox" id="remember-me" name="remember-me"
                                               style="margin-right:5px;">
                                        <label class="form-check-label" for="id-save-checkbox">자동로그인</label>
                                    </div>

                                </div>
                            </div>
                            <!-- -->
                            <!-- /.col -->
                            <div class="col-12 mb-4 login-btn-div">
                                <div class="d-grid gap-2 login-btn-child">
                                    <button type="submit" class="btn btn-primary submit-btn">로그인</button>

                                </div>
                            </div>
                            <!-- /.col -->
                        </div>
                    </form>
                    <p class="mb-2">
                        아직 회원이 아니신가요? <a href="/userView/account/form" style="font-weight:bold;">회원가입</a>
                    </p>
                    <p class="mb-2">
                        <a href="/userView/account/reset-passwd" class="text-center">비밀번호 재설정</a>
                    </p>

                    <div class="social-auth-links text-center mb-3 d-grid gap-2">
<!--                        <hr style="border:1px solid gray; border-bottom-style:hidden; margin:3.5vh 0 3.5vh; !important; display: block !important; width: 98% !important;"/>-->
                        <div class="sns-txt-line">
<!--                            <p class="mb-2 sns-txt">또는 SNS 계정으로 시작하기</p>-->
                            또는 SNS 계정으로 시작하기
                        </div>
<!--                        <a id="kakao-btn"-->
<!--                           th:href="@{https://kauth.kakao.com/oauth/authorize(client_id=${kakaoApiKey}, redirect_uri=${redirectUri}, response_type='code')}">-->
<!--                            <img src="/userAssets/img/kakao-login-btn-large.png" class="mb-4" style="width:100%">-->
<!--                        </a>-->
<!--                        <h3 style="color:blue;">개인 회원가입 완성시 회원가입 연동 예정</h3>-->

<!--                        <a href="https://kapi.kakao.com/v1/user/logout"-->
<!--                           th:href="@{https://kapi.kakao.com/v1/user/logout(client_id=${kakaoApiKey}, logout_redirect_uri=${logoutUri}, response_type='code')}">                       -->

                        <!-- 카카오 oauth2-login -->
                        <a id="kakao-oauth2-btn" href="/oauth2/authorization/kakao">
                            <img src="/userAssets/img/kakao-login-btn-large.png" class="mb-4" style="width:100%">
                        </a>
                    </div>
                </div>
                <!-- /.login-card-body -->
            </div>
        </div>
    </div>
</div>

<!-- Footer Start -->
<div th:replace="~{userView/modules/footer}"></div>
<!-- Footer End -->

<!-- Back to Top -->
<a href="#" class="btn btn-primary btn-primary-outline-0 btn-md-square back-to-top"><i class="fa fa-arrow-up"></i></a>


<!-- JavaScript Libraries -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/userAssets/lib/easing/easing.min.js"></script>
<script src="/userAssets/lib/waypoints/waypoints.min.js"></script>
<script src="/userAssets/lib/owlcarousel/owl.carousel.min.js"></script>
<script src="/userAssets/lib/lightbox/js/lightbox.min.js"></script>


<!--<script src="http://code.jquery.com/jquery-3.7.1.js"></script>-->
<!-- Template Javascript -->
<script src="/userAssets/js/main.js"></script>
<script src="/userAssets/js/account-login.js"></script>
<script type="text/javascript" th:inline="javascript">

$(function(){

    $('.container-fluid #nav-container-box').load('/navbar');

    // 로그인 실패
    if (/*[[${ #ctx.param.error }]]*/) {
        alert("아이디, 비밀번호를 다시 확인해주세요");
    }

    if(/*[[${ #ctx.param.social }]]*/) {
        alert("해당 아이디는 소셜 로그인 등록 회원입니다\n소셜 로그인 버튼으로 로그인 해주시기 바랍니다");

        const element = document.querySelector('.social-auth-links');
        const elementRect = element.getBoundingClientRect();
        const elementMidpoint = elementRect.top + window.scrollY + elementRect.height / 2;
        // 해당 위치로 스크롤
        window.scrollTo({
            top: elementMidpoint - (window.innerHeight / 2),
            behavior: 'smooth'
        });
    }

});


</script>
</body>

</html>